---
layout:            post
title:             "17/11/14 - project - Surf spot map #2"
menutitle:         "17/11/14 - project - Surf spot map #2"
category:          project
author:            myohyun
tags:              js-node
---

<!--

아이디어 수집..어떤 기능을 추가할까? 사이트의 목적을 명확하게.
이미 다녀왔던 스팟은 색깔을 다르게 표시하기.
infowindow에 제목 등을 클릭하면 7일간 스팟 컨디션 다 볼 수 있게.
다녀온 스팟의 나라의 색깔을 바꾸기. 여러 스팟을 다녀온 곳일 수록 색깔을 진하게 한다던지.
다녀온 스팟 언제 다녀왔는지.
스팟 기본 정보 페이지 만들기. 스팟에 대해 자주 리뷰되는 단어 등을 크롤링 해 뿌려주기?
세션을 이용해서 가장 최근에 언제 접속했는지 표시
favorite 스팟으로 설정하기.
경로 선으로 연결하기(for what?)
상급. 중급. 초보 등등도 표시할 수 있게.
로컬스팟인지도 표시할 수 있을 듯

# 서버 및 기타 파일들 관계 문서화
-->


# Today's work - 11/14 tue

## project- noname
1. server.js 정리 위해 모듈 분리.

2. 혹시 몰라 push 전에 backup파일 받아둠(E:\project)

3. 분리한 모듈들

---3.1. **router 파일** (router 정리한 파일)

---3.2. **DB 파일** (mysql 관련 함수(insert, update, delete etc) 모아둠 . mysql/mongodb 파일 분리해서 정리할 것임)

---3.3. **map** ( map관련 정보 가져오는 get, post 함수들 정리)

---3.4. **config.js** - 환경설정. 포트번호, mysql id/pwd. 라우터정보도 여기있다.

4. 데이터수집. 데이터분석/제공 사이트에서 여행관련 데이터를 가져옴. 아무 데이터로 데이터분석 공부를...

***여전히 해결하고 싶은 것**:

1. server.js의 mysql에서 init()한 후 생기는 client를 다른 모듈에도 다 같이 쓰고 싶은데 라우터를 분리하면서 쉽지가 않네..
server에서 mysql을 초기화 한 후에 요청이 들어왔을 때 client를 다 쓸 수 있게 해줘야 하는데..이거 어떻게 해결해야 하지? 지금은 그냥 모듈 별로 sql모듈 사용해서 client 객체 만들어서 데이터 받아오게 하고 있음.

2. session 처리 / app종료할 때 db도 close하는 등 자잘한 설정들 책으로 체크하고 가야할 듯.


## To do list (in order of priority) 

(17-11-13~)

1. 서버 및 기타 파일들 관계 문서화. -> 이거 좀 잘 정리하는 법 뭐 없나...;;

2. 자바스크립트 비동기/동기 처리 부분 정확하게. 자주 쓰는 함수 중 비동기 처리가 기본으로 되어있는지. getJSON()은 일단 async function 인 듯...

3. express 에서 app.get(...)을 쓰려했더니 not resolvec 라고...뭥미? 버전 확인을 했는데 4.16.였는데. router 뗌에 이제 지원을 안 하는 건가? 싶기도 하고. app.get(..) 시리즈와 router와의 차이, Router에 대해 좀 정리해놔야 할 듯하다.

4. ##### 내일은 뭐할까? 
- 아이디어 수집..어떤 기능을 추가할까? 사이트의 목적을 명확하게.
- 이미 다녀왔던 스팟은 색깔을 다르게 표시하기.
- infowindow에 제목 등을 클릭하면 7일간 스팟 컨디션 다 볼 수 있게.
- 다녀온 스팟의 나라의 색깔을 바꾸기. 여러 스팟을 다녀온 곳일 수록 색깔을 진하게 한다던지.
- 다녀온 스팟 언제 다녀왔는지.
- 스팟 기본 정보 페이지 만들기. 스팟에 대해 자주 리뷰되는 단어 등을 크롤링 해 뿌려주기?
- 세션을 이용해서 가장 최근에 언제 접속했는지 표시
- favorite 스팟으로 설정하기.
- 경로 선으로 연결하기(for what?)
- 상급. 중급. 초보 등등도 표시할 수 있게.
- 로컬스팟인지도 표시할 수 있을 듯


## TIL
1. 모듈작성법

